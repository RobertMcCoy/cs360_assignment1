@model System.Collections.Generic.List<ChessClubManagement.Models.Users>

@{
    Layout = "_Layout";
    ViewData["Title"] = "Students";
}

<div>
    <h1>Students</h1>      
    <hr />
    <table class="table table-striped table-hover">
        <tr>
            <th>Name</th>
            <th></th>
        </tr>
        @foreach (var student in Model)
        {
            <tr>
                <td><a asp-action="Member" asp-route-id="@student.Id">@student.Nickname</a></td>
                <td>
                    @if (User.Claims.Any(c => c.Type == "http://schemas.microsoft.com/ws/2008/06/identity/claims/role" && c.Value == "admin"))
                    {
                        <form asp-controller="Members" asp-action="Edit" asp-route-id="@student.Id">
                            <input type="submit" value="Edit Student" class="btn btn-info"/>
                        </form>
                    }
                </td>
            </tr>
        }
    </table>
</div>